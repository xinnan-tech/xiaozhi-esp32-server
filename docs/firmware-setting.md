# 虾哥がコンパイルしたファームウェアを使用したカスタムサーバーの設定

## ステップ1 バージョンの確認
虾哥が既にコンパイルした[バージョン1.6.1以上のファームウェア](https://github.com/78/xiaozhi-esp32/releases)を書き込んでください

## ステップ2 OTAアドレスの準備
チュートリアル通りにフルモジュール展開を使用している場合、OTAアドレスがあるはずです。

今すぐ、ブラウザでOTAアドレスを開いてください。例えば、私のアドレスは次のとおりです。
```
https://2662r3426b.vicp.fun/xiaozhi/ota/
```

「OTAインターフェースは正常に動作しています。websocketクラスター数：X」と表示された場合は、次のステップに進んでください。

「OTAインターフェースは正常に動作していません」と表示された場合は、おそらく`スマートコントロールパネル`で`Websocket`アドレスを設定していないためです。その場合は：

- 1. スーパー管理者でスマートコントロールパネルにログインします

- 2. 上部メニューの`パラメータ管理`をクリックします

- 3. リストから`server.websocket`項目を見つけ、`Websocket`アドレスを入力します。例えば、私の場合は次のようになります

```
wss://2662r3426b.vicp.fun/xiaozhi/v1/
```

設定後、ブラウザでOTAインターフェースアドレスを更新して、正常に動作するかどうかを確認してください。それでも正常に動作しない場合は、Websocketが正常に起動しているか、Websocketアドレスが設定されているかを再度確認してください。

## ステップ3 ネットワーク設定モードに入る
デバイスのネットワーク設定モードに入り、ページ上部の「詳細オプション」をクリックして、サーバーの`ota`アドレスを入力し、保存をクリックします。デバイスを再起動してください
![请参考-OTA地址设置](../docs/images/firmware-setting-ota.png)

## ステップ4 小智を起動し、ログ出力を確認する

小智を起動し、ログが正常に出力されているか確認してください。


## よくある質問
以下は参考のためのよくある質問です：

[1. なぜ私の話した言葉を、小智は韓国語、日本語、英語でたくさん認識するのですか](./FAQ.md)

[2. なぜ「TTSタスクエラー ファイルが存在しません」と表示されるのですか？](./FAQ.md)

[3. TTSが頻繁に失敗し、タイムアウトします](./FAQ.md)

[4. Wi-Fiでは自作サーバーに接続できますが、4Gモードでは接続できません](./FAQ.md)

[5. 小智の対話応答速度を向上させるにはどうすればよいですか？](./FAQ.md)

[6. 話すのが遅く、間が空くと小智が割り込んで話してしまいます](./FAQ.md)

[7. 小智を使って照明、エアコン、リモートでの電源オン/オフなどを操作したい](./FAQ.md)
