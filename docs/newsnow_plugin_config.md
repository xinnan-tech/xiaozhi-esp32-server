# get_news_from_newsnow プラグインニュースソース設定ガイド

## 概要

`get_news_from_newsnow` プラグインは、Web管理画面からニュースソースを動的に設定できるようになり、コードを修正する必要がなくなりました。ユーザーはインテリジェントコントロールパネルで、各エージェントに異なるニュースソースを設定できます。

## 設定方法

### 1. Web管理画面による設定（推奨）

1. インテリジェントコントロールパネルにログインします
2. 「ロール設定」ページに移動します
3. 設定するエージェントを選択します
4. 「機能編集」ボタンをクリックします
5. 右側のパラメータ設定エリアで「newsnowニュースアグリゲーション」プラグインを見つけます
6. 「ニュースソース設定」フィールドに、セミコロンで区切られた日本語名を入力します

### 2. 設定ファイルによる方法

`config.yaml` で設定します：

```yaml
plugins:
  get_news_from_newsnow:
    url: "https://newsnow.busiyi.world/api/s?id="
    news_sources: "澎湃新闻;百度热搜;财联社;微博;抖音"
```

## ニュースソース設定フォーマット

ニュースソースの設定は、セミコロンで区切られた日本語名を使用し、フォーマットは次のとおりです：

```
日本語名1;日本語名2;日本語名3
```

### 設定例

```
澎湃新闻;百度热搜;财联社;微博;抖音;知乎;36氪
```

## サポートされているニュースソース

プラグインは、以下のニュースソースの日本語名をサポートしています：

- 澎湃新闻
- 百度热搜
- 财联社
- 微博
- 抖音
- 知乎
- 36氪
- 华尔街见闻
- IT之家
- 今日头条
- 虎扑
- 哔哩哔哩
- 快手
- 雪球
- 格隆汇
- 法布财经
- 金十数据
- 牛客
- 少数派
- 稀土掘金
- 凤凰网
- 虫部落
- 联合早报
- 酷安
- 远景论坛
- 参考消息
- 卫星通讯社
- 百度贴吧
- 靠谱新闻
- その他多数...

## デフォルト設定

ニュースソースが設定されていない場合、プラグインは以下のデフォルト設定を使用します：

```
澎湃新闻;百度热搜;财联社
```

## 使用方法

1. **ニュースソースの設定**：Webインターフェースまたは設定ファイルでニュースソースの日本語名を設定し、セミコロンで区切ります
2. **プラグインの呼び出し**：ユーザーは「ニュースを再生」または「ニュースを取得」と言うことができます
3. **ニュースソースの指定**：ユーザーは「澎湃新闻を再生」または「百度热搜を取得」と言うことができます
4. **詳細の取得**：ユーザーは「このニュースの詳細を教えて」と言うことができます

## 動作原理

1. プラグインは日本語名をパラメータとして受け取ります（例：「澎湃新闻」）
2. 設定されたニュースソースリストに基づき、日本語名を対応する英語ID（例：「thepaper」）に変換します
3. 英語IDを使用してAPIを呼び出し、ニュースデータを取得します
4. ニュースコンテンツをユーザーに返します

## 注意事項

1. 設定する日本語名は、`CHANNEL_MAP` で定義されている名前と完全に一致する必要があります
2. 設定を変更した後は、サービスを再起動するか、設定を再読み込みする必要があります
3. 設定したニュースソースが無効な場合、プラグインは自動的にデフォルトのニュースソースを使用します
4. 複数のニュースソース間は、英語のセミコロン（;）で区切ってください。日本語のセミコロン（；）は使用しないでください