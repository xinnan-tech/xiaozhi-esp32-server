# Xiaozhi ESP32 Server - Database Visual Schema

## ğŸ¨ ASCII Art Database Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    XIAOZHI ESP32 SERVER DATABASE SCHEMA                                        â”‚
â”‚                                         16 Tables - 6 Categories                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        ğŸ” SYSTEM MANAGEMENT LAYER                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     sys_user        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   sys_user_token    â”‚         â”‚    sys_params       â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  1:1    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚
    â”‚ ğŸ”’ username (UK)    â”‚         â”‚ ğŸ”— user_id (FK)     â”‚         â”‚ ğŸ”’ param_code (UK)  â”‚
    â”‚    password         â”‚         â”‚ ğŸ”’ token (UK)       â”‚         â”‚    param_value      â”‚
    â”‚    super_admin      â”‚         â”‚    expire_date      â”‚         â”‚    param_type       â”‚
    â”‚    status           â”‚         â”‚    create_date      â”‚         â”‚    remark           â”‚
    â”‚    create_date      â”‚         â”‚    update_date      â”‚         â”‚    creator          â”‚
    â”‚    creator          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    create_date      â”‚
    â”‚    updater          â”‚                                         â”‚    updater          â”‚
    â”‚    update_date      â”‚                                         â”‚    update_date      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                                               
            â”‚ 1:M                                                           
            â–¼                                                               
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 
    â”‚   sys_dict_type     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   sys_dict_data     â”‚                 
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  1:M    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                 
    â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚                 
    â”‚ ğŸ”’ dict_type (UK)   â”‚         â”‚ ğŸ”— dict_type_id(FK) â”‚                 
    â”‚    dict_name        â”‚         â”‚    dict_label       â”‚                 
    â”‚    remark           â”‚         â”‚    dict_value       â”‚                 
    â”‚    sort             â”‚         â”‚    remark           â”‚                 
    â”‚    creator          â”‚         â”‚    sort             â”‚                 
    â”‚    create_date      â”‚         â”‚    creator          â”‚                 
    â”‚    updater          â”‚         â”‚    create_date      â”‚                 
    â”‚    update_date      â”‚         â”‚    updater          â”‚                 
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    update_date      â”‚                 
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      ğŸ¤– AI MODEL CONFIGURATION LAYER                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ai_model_provider   â”‚         â”‚  ai_model_config    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   ai_tts_voice      â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  1:M    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚
    â”‚    model_type       â”‚         â”‚    model_type       â”‚         â”‚ ğŸ”— tts_model_id(FK) â”‚
    â”‚    provider_code    â”‚         â”‚    model_code       â”‚         â”‚    name             â”‚
    â”‚    name             â”‚         â”‚    model_name       â”‚         â”‚    tts_voice        â”‚
    â”‚    fields (JSON)    â”‚         â”‚    is_default       â”‚         â”‚    languages        â”‚
    â”‚    sort             â”‚         â”‚    is_enabled       â”‚         â”‚    voice_demo       â”‚
    â”‚    creator          â”‚         â”‚    config_json      â”‚         â”‚    remark           â”‚
    â”‚    create_date      â”‚         â”‚    doc_link         â”‚         â”‚    sort             â”‚
    â”‚    updater          â”‚         â”‚    remark           â”‚         â”‚    creator          â”‚
    â”‚    update_date      â”‚         â”‚    sort             â”‚         â”‚    create_date      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    creator          â”‚         â”‚    updater          â”‚
                                    â”‚    create_date      â”‚         â”‚    update_date      â”‚
                                    â”‚    updater          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚    update_date      â”‚                 
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 
                                            â”‚                               
                                            â”‚ M:M (via agent configs)       
                                            â–¼                               

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        ğŸ§  AI AGENT MANAGEMENT LAYER                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ai_agent_template   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     ai_agent        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ templateâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚          â”‚
    â”‚ ğŸ”‘ id (PK)          â”‚   base  â”‚ ğŸ”‘ id (PK)          â”‚          â”‚
    â”‚    agent_code       â”‚         â”‚ ğŸ”— user_id (FK)     â”‚          â”‚ 1:M
    â”‚    agent_name       â”‚         â”‚    agent_code       â”‚          â”‚
    â”‚    asr_model_id     â”‚         â”‚    agent_name       â”‚          â”‚
    â”‚    vad_model_id     â”‚         â”‚    asr_model_id     â”‚          â”‚
    â”‚    llm_model_id     â”‚         â”‚    vad_model_id     â”‚          â”‚
    â”‚    vllm_model_id    â”‚         â”‚    llm_model_id     â”‚          â”‚
    â”‚    tts_model_id     â”‚         â”‚    vllm_model_id    â”‚          â”‚
    â”‚    tts_voice_id     â”‚         â”‚    tts_model_id     â”‚          â”‚
    â”‚    mem_model_id     â”‚         â”‚    tts_voice_id     â”‚          â”‚
    â”‚    intent_model_id  â”‚         â”‚    mem_model_id     â”‚          â”‚
    â”‚    system_prompt    â”‚         â”‚    intent_model_id  â”‚          â”‚
    â”‚    lang_code        â”‚         â”‚    system_prompt    â”‚          â”‚
    â”‚    language         â”‚         â”‚    lang_code        â”‚          â”‚
    â”‚    sort             â”‚         â”‚    language         â”‚          â”‚
    â”‚    creator          â”‚         â”‚    sort             â”‚          â”‚
    â”‚    created_at       â”‚         â”‚    creator          â”‚          â”‚
    â”‚    updater          â”‚         â”‚    created_at       â”‚          â”‚
    â”‚    updated_at       â”‚         â”‚    updater          â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    updated_at       â”‚          â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                                            â”‚                        â”‚
                                            â”‚ 1:M                    â”‚
                                            â–¼                        â”‚
                                                                     â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
                                    â”‚     sys_user        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                                    â”‚ ğŸ”‘ id (PK)          â”‚
                                    â”‚ ğŸ”’ username (UK)    â”‚
                                    â”‚    password         â”‚
                                    â”‚    super_admin      â”‚
                                    â”‚    status           â”‚
                                    â”‚    create_date      â”‚
                                    â”‚    creator          â”‚
                                    â”‚    updater          â”‚
                                    â”‚    update_date      â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      ğŸ“± DEVICE MANAGEMENT LAYER                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     ai_device       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤     ai_agent        â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  M:1    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚
    â”‚ ğŸ”— user_id (FK)     â”‚         â”‚ ğŸ”— user_id (FK)     â”‚
    â”‚    mac_address      â”‚         â”‚    agent_code       â”‚
    â”‚    last_connected   â”‚         â”‚    agent_name       â”‚
    â”‚    auto_update      â”‚         â”‚    asr_model_id     â”‚
    â”‚    board            â”‚         â”‚    vad_model_id     â”‚
    â”‚    alias            â”‚         â”‚    llm_model_id     â”‚
    â”‚ ğŸ”— agent_id (FK)    â”‚         â”‚    vllm_model_id    â”‚
    â”‚    app_version      â”‚         â”‚    tts_model_id     â”‚
    â”‚    sort             â”‚         â”‚    tts_voice_id     â”‚
    â”‚    creator          â”‚         â”‚    mem_model_id     â”‚
    â”‚    create_date      â”‚         â”‚    intent_model_id  â”‚
    â”‚    updater          â”‚         â”‚    system_prompt    â”‚
    â”‚    update_date      â”‚         â”‚    lang_code        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    language         â”‚
            â”‚                       â”‚    sort             â”‚
            â”‚ 1:M                   â”‚    creator          â”‚
            â–¼                       â”‚    created_at       â”‚
                                    â”‚    updater          â”‚
                                    â”‚    updated_at       â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                       ğŸ”Š VOICE RECOGNITION LAYER                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ai_voiceprint     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤     sys_user        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     ai_agent        â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  M:1    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  1:M    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚
    â”‚    name             â”‚         â”‚ ğŸ”’ username (UK)    â”‚         â”‚ ğŸ”— user_id (FK)     â”‚
    â”‚ ğŸ”— user_id (FK)     â”‚         â”‚    password         â”‚         â”‚    agent_code       â”‚
    â”‚ ğŸ”— agent_id (FK)    â”‚         â”‚    super_admin      â”‚         â”‚    agent_name       â”‚
    â”‚    agent_code       â”‚         â”‚    status           â”‚         â”‚    asr_model_id     â”‚
    â”‚    agent_name       â”‚         â”‚    create_date      â”‚         â”‚    vad_model_id     â”‚
    â”‚    description      â”‚         â”‚    creator          â”‚         â”‚    llm_model_id     â”‚
    â”‚    embedding        â”‚         â”‚    updater          â”‚         â”‚    vllm_model_id    â”‚
    â”‚    memory           â”‚         â”‚    update_date      â”‚         â”‚    tts_model_id     â”‚
    â”‚    sort             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    tts_voice_id     â”‚
    â”‚    creator          â”‚                                         â”‚    mem_model_id     â”‚
    â”‚    created_at       â”‚                                         â”‚    intent_model_id  â”‚
    â”‚    updater          â”‚                                         â”‚    system_prompt    â”‚
    â”‚    updated_at       â”‚                                         â”‚    lang_code        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚    language         â”‚
                                                                    â”‚    sort             â”‚
                                                                    â”‚    creator          â”‚
                                                                    â”‚    created_at       â”‚
                                                                    â”‚    updater          â”‚
                                                                    â”‚    updated_at       â”‚
                                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      ğŸ’¬ CHAT & COMMUNICATION LAYER                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚     sys_user        â”‚
                                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                                    â”‚ ğŸ”‘ id (PK)          â”‚
                                    â”‚ ğŸ”’ username (UK)    â”‚
                                    â”‚    password         â”‚
                                    â”‚    super_admin      â”‚
                                    â”‚    status           â”‚
                                    â”‚    create_date      â”‚
                                    â”‚    creator          â”‚
                                    â”‚    updater          â”‚
                                    â”‚    update_date      â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â”‚ 1:M
                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ai_chat_history    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤     ai_agent        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     ai_device       â”‚
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  M:1    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  1:M    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚         â”‚ ğŸ”‘ id (PK)          â”‚
    â”‚ ğŸ”— user_id (FK)     â”‚         â”‚ ğŸ”— user_id (FK)     â”‚         â”‚ ğŸ”— user_id (FK)     â”‚
    â”‚ ğŸ”— agent_id (FK)    â”‚         â”‚    agent_code       â”‚         â”‚    mac_address      â”‚
    â”‚ ğŸ”— device_id (FK)   â”‚         â”‚    agent_name       â”‚         â”‚    last_connected   â”‚
    â”‚    message_count    â”‚         â”‚    asr_model_id     â”‚         â”‚    auto_update      â”‚
    â”‚    creator          â”‚         â”‚    vad_model_id     â”‚         â”‚    board            â”‚
    â”‚    create_date      â”‚         â”‚    llm_model_id     â”‚         â”‚    alias            â”‚
    â”‚    updater          â”‚         â”‚    vllm_model_id    â”‚         â”‚ ğŸ”— agent_id (FK)    â”‚
    â”‚    update_date      â”‚         â”‚    tts_model_id     â”‚         â”‚    app_version      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    tts_voice_id     â”‚         â”‚    sort             â”‚
            â”‚                       â”‚    mem_model_id     â”‚         â”‚    creator          â”‚
            â”‚ 1:M                   â”‚    intent_model_id  â”‚         â”‚    create_date      â”‚
            â–¼                       â”‚    system_prompt    â”‚         â”‚    updater          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚    lang_code        â”‚         â”‚    update_date      â”‚
    â”‚  ai_chat_message    â”‚         â”‚    language         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚    sort             â”‚                 â”‚
    â”‚ ğŸ”‘ id (PK)          â”‚         â”‚    creator          â”‚                 â”‚ via mac_address
    â”‚ ğŸ”— user_id (FK)     â”‚         â”‚    created_at       â”‚                 â”‚
    â”‚ ğŸ”— chat_id (FK)     â”‚         â”‚    updater          â”‚                 â–¼
    â”‚    role (ENUM)      â”‚         â”‚    updated_at       â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    content          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ai_agent_chat_historyâ”‚
    â”‚    prompt_tokens    â”‚                 â”‚                       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    â”‚    total_tokens     â”‚                 â”‚ 1:M                   â”‚ ğŸ”‘ id (PK)          â”‚
    â”‚    completion_tokensâ”‚                 â–¼                       â”‚    mac_address      â”‚
    â”‚    prompt_ms        â”‚                                         â”‚ ğŸ”— agent_id (FK)    â”‚
    â”‚    total_ms         â”‚                                         â”‚    session_id       â”‚
    â”‚    completion_ms    â”‚                                         â”‚    chat_type        â”‚
    â”‚    creator          â”‚                                         â”‚    content          â”‚
    â”‚    create_date      â”‚                                         â”‚ ğŸ”— audio_id (FK)    â”‚
    â”‚    updater          â”‚                                         â”‚    created_at       â”‚
    â”‚    update_date      â”‚                                         â”‚    updated_at       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                            â”‚
                                                                            â”‚ 1:1
                                                                            â–¼
                                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                    â”‚ai_agent_chat_audio  â”‚
                                                                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
                                                                    â”‚ ğŸ”‘ id (PK)          â”‚
                                                                    â”‚    audio (LONGBLOB) â”‚
                                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         ğŸ“Š RELATIONSHIP SUMMARY                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”— PRIMARY RELATIONSHIPS:
â”œâ”€â”€ sys_user (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (M) ai_agent           â”‚ Users own multiple AI agents
â”œâ”€â”€ sys_user (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (M) ai_device          â”‚ Users own multiple ESP32 devices
â”œâ”€â”€ sys_user (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (M) ai_voiceprint      â”‚ Users have multiple voiceprints
â”œâ”€â”€ sys_user (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (M) ai_chat_history    â”‚ Users participate in multiple chats
â”œâ”€â”€ sys_user (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (1) sys_user_token     â”‚ Each user has one active token
â”œâ”€â”€ ai_agent (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (M) ai_device           â”‚ Agent can be assigned to multiple devices
â”œâ”€â”€ ai_agent (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (M) ai_chat_history     â”‚ Agent participates in multiple chats
â”œâ”€â”€ ai_agent (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (M) ai_agent_chat_history â”‚ Agent has multiple device interactions
â”œâ”€â”€ ai_model_config (1) â”€â”€â”€â”€ (M) ai_tts_voice        â”‚ TTS models have multiple voices
â””â”€â”€ ai_chat_history (1) â”€â”€â”€â”€ (M) ai_chat_message     â”‚ Chat sessions contain multiple messages

ğŸ”— SECONDARY RELATIONSHIPS:
â”œâ”€â”€ sys_dict_type (1) â”€â”€â”€â”€â”€â”€â”€â”€ (M) sys_dict_data     â”‚ Dictionary types contain multiple entries
â”œâ”€â”€ ai_agent_template â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ai_agent            â”‚ Templates used to create agents
â”œâ”€â”€ ai_device â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ai_agent_chat_history â”‚ Devices connect via MAC address
â””â”€â”€ ai_agent_chat_history (1) â”€â”€ (1) ai_agent_chat_audio â”‚ Chat entries may have audio data

ğŸ”— MODEL CONFIGURATION RELATIONSHIPS:
â”œâ”€â”€ ai_agent.asr_model_id â”€â”€â”€â”€â”€â”€ ai_model_config.id  â”‚ Speech Recognition Model
â”œâ”€â”€ ai_agent.vad_model_id â”€â”€â”€â”€â”€â”€ ai_model_config.id  â”‚ Voice Activity Detection Model
â”œâ”€â”€ ai_agent.llm_model_id â”€â”€â”€â”€â”€â”€ ai_model_config.id  â”‚ Large Language Model
â”œâ”€â”€ ai_agent.vllm_model_id â”€â”€â”€â”€â”€ ai_model_config.id  â”‚ Vision Language Model
â”œâ”€â”€ ai_agent.tts_model_id â”€â”€â”€â”€â”€â”€ ai_model_config.id  â”‚ Text-to-Speech Model
â”œâ”€â”€ ai_agent.mem_model_id â”€â”€â”€â”€â”€â”€ ai_model_config.id  â”‚ Memory Model
â”œâ”€â”€ ai_agent.intent_model_id â”€â”€â”€ ai_model_config.id  â”‚ Intent Recognition Model
â””â”€â”€ ai_agent.tts_voice_id â”€â”€â”€â”€â”€â”€ ai_tts_voice.id     â”‚ TTS Voice Configuration

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                           ğŸ”‘ LEGEND                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SYMBOLS:
ğŸ”‘ PK    = Primary Key
ğŸ”— FK    = Foreign Key
ğŸ”’ UK    = Unique Key
(1)      = One (in relationship)
(M)      = Many (in relationship)
â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ = One-to-Many relationship (arrow points to "One" side)
â”€â”€â”€â”€â”€â”€â”€â”€â–º = Many-to-One relationship (arrow points to "One" side)
â”‚        = Connection line
â–¼        = Relationship flow direction

TABLE CATEGORIES:
ğŸ” System Management    = User authentication, system configuration
ğŸ¤– AI Model Config      = AI model providers, configurations, voices
ğŸ§  AI Agent Management  = Agent templates and user-created agents
ğŸ“± Device Management    = ESP32 device information and assignments
ğŸ”Š Voice Recognition    = Voiceprint storage and recognition
ğŸ’¬ Chat & Communication = Web and device-based chat systems

DATA TYPES:
VARCHAR(n)  = Variable character string
BIGINT      = 64-bit integer
TINYINT     = 8-bit integer
DATETIME    = Date and time
JSON        = JSON object
TEXT        = Large text field
LONGTEXT    = Very large text field
LONGBLOB    = Large binary object
ENUM        = Enumerated values

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        ğŸ¯ SYSTEM FLOW                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. USER REGISTRATION & LOGIN
   sys_user â†’ sys_user_token (Authentication)

2. AI AGENT CREATION
   sys_user â†’ ai_agent_template â†’ ai_agent (Agent setup)
   ai_model_config â†’ ai_agent (Model assignment)
   ai_tts_voice â†’ ai_agent (Voice assignment)

3. DEVICE MANAGEMENT
   sys_user â†’ ai_device (Device ownership)
   ai_agent â†’ ai_device (Agent assignment)

4. VOICE RECOGNITION
   sys_user â†’ ai_voiceprint â†’ ai_agent (Voice training)

5. COMMUNICATION CHANNELS
   A) Web Interface:
      sys_user â†’ ai_chat_history â†’ ai_chat_message

   B) Device Interface:
      ai_device â†’ ai_agent_chat_history â†’ ai_agent_chat_audio

6. SYSTEM CONFIGURATION
   sys_params (System settings)
   sys_dict_type â†’ sys_dict_data (System dictionaries)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      ğŸ“ˆ DATABASE STATISTICS                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TOTAL TABLES: 16
â”œâ”€â”€ System Management: 5 tables (31.25%)
â”œâ”€â”€ AI Model Config: 3 tables (18.75%)
â”œâ”€â”€ AI Agent Management: 2 tables (12.50%)
â”œâ”€â”€ Device Management: 1 table (6.25%)
â”œâ”€â”€ Voice Recognition: 1 table (6.25%)
â””â”€â”€ Chat & Communication: 4 tables (25.00%)

RELATIONSHIP TYPES:
â”œâ”€â”€ One-to-One: 2 relationships
â”œâ”€â”€ One-to-Many: 12 relationships
â”œâ”€â”€ Many-to-Many: 7 relationships (via foreign keys)
â””â”€â”€ Template-based: 1 relationship

KEY FEATURES:
âœ… Multi-user support with role-based access
âœ… Modular AI pipeline (7 different model types)
âœ… Dual communication channels (Web + Device)
âœ… Voice recognition and personalization
âœ… Device management with firmware tracking
âœ… Comprehensive chat history and analytics
âœ… Flexible system configuration
âœ… Template-based agent creation

---
Generated: 2025-08-20 | Version: 1.0 | Format: ASCII Art Visualization
